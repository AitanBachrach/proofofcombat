(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(4592)}])},4592:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return A}});var t=r(5893),a=r(2192),o=r(7294),i=r(2630),s=r(7948),u=r(5861),c=r(4051),l=r.n(c),d=r(4374),f=r(3457),h=r(9402);function m(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function x(n,e,r,t,a,o,i){try{var s=n[o](i),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(t,a)}function v(n){return function(){var e=this,r=arguments;return new Promise((function(t,a){var o=n.apply(e,r);function i(n){x(o,t,a,i,s,"next",n)}function s(n){x(o,t,a,i,s,"throw",n)}i(void 0)}))}}function y(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,a,o=[],i=!0,s=!1;try{for(r=r.call(n);!(i=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);i=!0);}catch(u){s=!0,a=u}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return m(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(){var n=function(n){"Enter"===n.key&&Z()},e=((0,h.Bl)(),(0,o.useState)("")),r=e[0],a=e[1],s=(0,o.useState)(""),c=s[0],m=s[1],x=y((0,h.Bl)(),2),p=x[0],j=x[1],b=(j.data,j.loading),g=j.error,w=g&&"Username already exists"===g.message;function Z(){return P.apply(this,arguments)}function P(){return(P=v(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Attempting to create an account..."),n.prev=1,n.next=4,p({variables:{name:r,password:c}});case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),n,null,[[1,6]])})))).apply(this,arguments)}return(0,t.jsx)(o.Fragment,{children:(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(u.Z,{children:"Create a new account. You must choose a character name that has not already been used. You may create as many accounts as you would like, however there is no account recovery."}),(0,t.jsx)("br",{}),(0,t.jsx)(d.Z,{helperText:w&&g.message,error:w,label:"Character Name",variant:"outlined",value:r,onChange:function(n){return a(n.target.value)},onKeyPress:n,disabled:b}),(0,t.jsx)("br",{}),(0,t.jsx)(d.Z,{label:"Password",variant:"outlined",type:"password",value:c,onChange:function(n){return m(n.target.value)},onKeyPress:n,disabled:b}),(0,t.jsx)("br",{}),(0,t.jsx)(i.Z,{type:"submit",variant:"contained",onClick:Z,disabled:b,children:"Create Account"}),(0,t.jsx)("br",{})]})})}var j=r(1163),b=r(9692);function g(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function w(n,e,r,t,a,o,i){try{var s=n[o](i),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(t,a)}function Z(n){return function(){var e=this,r=arguments;return new Promise((function(t,a){var o=n.apply(e,r);function i(n){w(o,t,a,i,s,"next",n)}function s(n){w(o,t,a,i,s,"throw",n)}i(void 0)}))}}function P(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,a,o=[],i=!0,s=!1;try{for(r=r.call(n);!(i=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);i=!0);}catch(u){s=!0,a=u}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return g(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(){var n=function(n){"Enter"===n.key&&A()},e=(0,j.useRouter)(),r=P((0,b.d)(),2),a=(r[0],r[1]),s=P((0,h.YA)(),2),c=s[0],m=s[1],x=m.loading,v=m.error,y=(0,o.useState)(""),p=y[0],g=y[1],w=(0,o.useState)(""),S=w[0],k=w[1];function A(){return C.apply(this,arguments)}function C(){return(C=Z(l().mark((function n(){var r,t,o;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c({variables:{name:p,password:S}});case 3:if(r=n.sent.data){n.next=6;break}return n.abrupt("return");case 6:t=r.login,o=t.token,a(o),e.push("/play"),n.next=13;break;case 11:n.prev=11,n.t0=n.catch(0);case 13:case"end":return n.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}return(0,t.jsx)(o.Fragment,{children:(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(u.Z,{children:"Login to existing account."}),(0,t.jsx)("br",{}),(0,t.jsx)(d.Z,{helperText:!!v&&v.message,error:!!v,label:"Character Name",variant:"outlined",onChange:function(n){return g(n.target.value)},disabled:x,onKeyPress:n}),(0,t.jsx)("br",{}),(0,t.jsx)(d.Z,{error:!!v,label:"Password",variant:"outlined",type:"password",onChange:function(n){return k(n.target.value)},disabled:x,onKeyPress:n}),(0,t.jsx)("br",{}),(0,t.jsx)(i.Z,{type:"submit",variant:"contained",onClick:A,disabled:x,children:"Play"})]})})}function k(){var n=(0,o.useState)(!1),e=n[0],r=n[1];return(0,t.jsxs)(s.Z,{maxWidth:"sm",children:[e&&(0,t.jsxs)(o.Fragment,{children:[(0,t.jsx)(p,{}),(0,t.jsxs)(u.Z,{children:["Already have an account?",(0,t.jsx)(i.Z,{onClick:function(){return r(!1)},children:"Login here"})]})]}),!e&&(0,t.jsxs)(o.Fragment,{children:[(0,t.jsx)(S,{}),(0,t.jsxs)(u.Z,{children:["Need an account?",(0,t.jsx)(i.Z,{onClick:function(){return r(!0)},children:"Create one"})]})]})]})}var A=function(){return(0,t.jsxs)(a.A,{children:[(0,t.jsx)("br",{}),(0,t.jsx)(k,{})]})}},2192:function(n,e,r){"use strict";r.d(e,{A:function(){return j}});var t=r(5893),a=r(7294),o=r(7948),i=r(9402),s=r(6252),u=r(1163),c=r(2293),l=r(155),d=r(5861),f=r(6886),h=r(2630),m=r(9692);function x(n){var e=n.hero;return console.log({hero:e}),(0,t.jsx)(a.Fragment,{children:(0,t.jsxs)(f.ZP,{container:!0,columns:6,children:[(0,t.jsxs)(f.ZP,{item:!0,md:1,sm:2,xs:6,children:["Gold: ",e.gold]}),(0,t.jsxs)(f.ZP,{item:!0,md:1,sm:2,xs:6,children:["Level: ",e.level]}),(0,t.jsxs)(f.ZP,{item:!0,md:1,sm:2,xs:6,children:["Experience: ",e.experience]}),(0,t.jsxs)(f.ZP,{item:!0,md:1,sm:2,xs:6,children:["Health: ",e.combat.health," / ",e.combat.maxHealth]}),(0,t.jsxs)(f.ZP,{item:!0,md:1,sm:2,xs:6,children:["Location: ",e.location.x,", ",e.location.y]}),(0,t.jsxs)(f.ZP,{item:!0,md:1,sm:2,xs:6,children:["Luck: ",e.stats.luck]}),(0,t.jsxs)(f.ZP,{item:!0,md:1,sm:2,xs:6,children:["Strength: ",e.stats.strength]}),(0,t.jsxs)(f.ZP,{item:!0,md:1,sm:2,xs:6,children:["Dexterity: ",e.stats.dexterity]}),(0,t.jsxs)(f.ZP,{item:!0,md:1,sm:2,xs:6,children:["Constitution: ",e.stats.constitution]}),(0,t.jsxs)(f.ZP,{item:!0,md:1,sm:2,xs:6,children:["Intelligence: ",e.stats.intelligence]}),(0,t.jsxs)(f.ZP,{item:!0,md:1,sm:2,xs:6,children:["Wisdom: ",e.stats.wisdom]}),(0,t.jsxs)(f.ZP,{item:!0,md:1,sm:2,xs:6,children:["Charisma: ",e.stats.charisma]})]})})}function v(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function y(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,a,o=[],i=!0,s=!1;try{for(r=r.call(n);!(i=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);i=!0);}catch(u){s=!0,a=u}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return v(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(n){var e=n.hero,r=(0,u.useRouter)(),i=(0,s.x)(),v=y((0,m.d)(),2),p=(v[0],v[1]);return(0,t.jsxs)(c.Z,{position:"static",children:[(0,t.jsx)(l.Z,{children:(0,t.jsx)(o.Z,{children:(0,t.jsxs)(f.ZP,{container:!0,columns:3,children:[(0,t.jsx)(f.ZP,{item:!0,xs:2,children:(0,t.jsx)(d.Z,{variant:"h4",children:"Proof of Combat"})}),(0,t.jsx)(f.ZP,{item:!0,xs:1,children:e&&(0,t.jsx)(a.Fragment,{children:(0,t.jsxs)(d.Z,{variant:"h6",align:"right",children:[e.name,(0,t.jsx)("br",{}),(0,t.jsx)(h.Z,{color:"error",variant:"contained",disableElevation:!0,onClick:function(){p(null),i.clearStore(),r.push("/")},children:"Logout"})]})})})]})})}),(0,t.jsx)(o.Z,{children:e&&(0,t.jsx)(x,{hero:e})})]})}function j(n){var e=n.children,r=n.showHero,s=void 0!==r&&r,u=(0,i.UE)({skip:!s}).data;if(u&&s){var c=u.me.account.hero;if(c)return(0,t.jsxs)(a.Fragment,{children:[(0,t.jsx)(p,{hero:c}),(0,t.jsx)(o.Z,{children:e})]})}return(0,t.jsxs)(a.Fragment,{children:[(0,t.jsx)(p,{}),(0,t.jsx)(o.Z,{children:e})]})}},9402:function(n,e,r){"use strict";r.d(e,{TX:function(){return x},YA:function(){return y},Bl:function(){return j},UE:function(){return g}});var t=r(7283),a=r(1641),o=r(319);function i(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function s(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})))),t.forEach((function(e){i(n,e,r[e])}))}return n}function u(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function c(){var n=u(["\n    query GetChatToken {\n  chat {\n    token\n  }\n}\n    "]);return c=function(){return n},n}function l(){var n=u(["\n    mutation Login($name: String!, $password: String!) {\n  login(name: $name, password: $password) {\n    token\n    account {\n      name\n      hero {\n        name\n        level\n        experience\n        combat {\n          health\n          maxHealth\n        }\n        stats {\n          strength\n          dexterity\n          constitution\n          intelligence\n          wisdom\n          charisma\n          luck\n        }\n      }\n    }\n  }\n}\n    "]);return l=function(){return n},n}function d(){var n=u(["\n    mutation Signup($name: String!, $password: String!) {\n  createAccount(name: $name, password: $password) {\n    name\n    hero {\n      name\n    }\n  }\n}\n    "]);return d=function(){return n},n}function f(){var n=u(["\n    query Me {\n  me {\n    account {\n      hero {\n        name\n        level\n        experience\n        gold\n        location {\n          x\n          y\n          map\n        }\n        combat {\n          health\n          maxHealth\n        }\n        stats {\n          dexterity\n          intelligence\n          charisma\n          constitution\n          wisdom\n          luck\n          strength\n        }\n      }\n    }\n  }\n}\n    "]);return f=function(){return n},n}var h={},m=(0,t.Ps)(c());function x(n){var e=s({},h,n);return a.a(m,e)}var v=(0,t.Ps)(l());function y(n){var e=s({},h,n);return o.D(v,e)}var p=(0,t.Ps)(d());function j(n){var e=s({},h,n);return o.D(p,e)}var b=(0,t.Ps)(f());function g(n){var e=s({},h,n);return a.a(b,e)}},9692:function(n,e,r){"use strict";r.d(e,{d:function(){return s}});var t,a=r(7294),o=["undefined"!==typeof localStorage&&null!==(t=localStorage.token)&&void 0!==t?t:null,function(n){o[0]=n,"undefined"!==typeof localStorage&&(localStorage.token=n)}],i=a.createContext(o);function s(){return a.useContext(i)}}},function(n){n.O(0,[665,188,774,888,179],(function(){return e=5301,n(n.s=e);var e}));var e=n.O();_N_E=e}]);