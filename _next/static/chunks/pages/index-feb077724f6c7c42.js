(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(r,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3963)}])},3963:function(r,e,n){"use strict";n.r(e),n.d(e,{default:function(){return Y}});var t=n(5893),o=n(7294),a=n(7720),i=n(6886),s=n(5861),u=n(1320),c=n(3321),l=n(7948),f=n(4051),d=n.n(f),h=n(1903),p=n(3366),m=n(7462),v=n(6010),x=n(7192),y=n(1496),b=n(7623),j=n(8979);function g(r){return(0,j.Z)("MuiFormGroup",r)}(0,n(6087).Z)("MuiFormGroup",["root","row","error"]);var w=n(4423),Z=n(5704);const S=["className","row"],k=(0,y.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:n}=r;return[e.root,n.row&&e.row]}})((({ownerState:r})=>(0,m.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},r.row&&{flexDirection:"row"})));var C=o.forwardRef((function(r,e){const n=(0,b.Z)({props:r,name:"MuiFormGroup"}),{className:o,row:a=!1}=n,i=(0,p.Z)(n,S),s=(0,w.Z)(),u=(0,Z.Z)({props:n,muiFormControl:s,states:["error"]}),c=(0,m.Z)({},n,{row:a,error:u.error}),l=(r=>{const{classes:e,row:n,error:t}=r,o={root:["root",n&&"row",t&&"error"]};return(0,x.Z)(o,g,e)})(c);return(0,t.jsx)(k,(0,m.Z)({className:(0,v.Z)(l.root,o),ownerState:c,ref:e},i))})),A=n(9402);function P(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function _(r,e,n,t,o,a,i){try{var s=r[a](i),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(t,o)}function N(r){return function(){var e=this,n=arguments;return new Promise((function(t,o){var a=r.apply(e,n);function i(r){_(a,t,o,i,s,"next",r)}function s(r){_(a,t,o,i,s,"throw",r)}i(void 0)}))}}function E(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,o,a=[],i=!0,s=!1;try{for(n=n.call(r);!(i=(t=n.next()).done)&&(a.push(t.value),!e||a.length!==e);i=!0);}catch(u){s=!0,o=u}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return P(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(r){var e=function(r){"Enter"===r.key&&g()},n=r.onSignup,a=((0,A.Bl)(),(0,o.useState)("")),i=a[0],u=a[1],l=(0,o.useState)(""),f=l[0],p=l[1],m=E((0,A.Bl)(),2),v=m[0],x=m[1],y=(x.data,x.loading),b=x.error,j=b&&"Username already exists"===b.message;function g(){return w.apply(this,arguments)}function w(){return(w=N(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("Attempting to create an account..."),r.prev=1,r.next=4,v({variables:{name:i,password:f}});case 4:n&&n(),r.next=9;break;case 7:r.prev=7,r.t0=r.catch(1);case 9:case"end":return r.stop()}}),r,null,[[1,7]])})))).apply(this,arguments)}return(0,t.jsx)(o.Fragment,{children:(0,t.jsxs)(C,{children:[(0,t.jsx)(s.Z,{children:"Create a new account. You must choose a character name that has not already been used. You may create as many accounts as you would like, however there is no account recovery."}),(0,t.jsx)("br",{}),(0,t.jsx)(h.Z,{helperText:j&&b.message,error:j,label:"Character Name",variant:"outlined",value:i,onChange:function(r){return u(r.target.value)},onKeyPress:e,disabled:y}),(0,t.jsx)("br",{}),(0,t.jsx)(h.Z,{label:"Password",variant:"outlined",type:"password",value:f,onChange:function(r){return p(r.target.value)},onKeyPress:e,disabled:y}),(0,t.jsx)("br",{}),(0,t.jsx)(c.Z,{type:"submit",variant:"contained",onClick:g,disabled:y,children:"Create Account"}),(0,t.jsx)("br",{})]})})}var T=n(1163),I=n(9692);function M(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function O(r,e,n,t,o,a,i){try{var s=r[a](i),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(t,o)}function G(r){return function(){var e=this,n=arguments;return new Promise((function(t,o){var a=r.apply(e,n);function i(r){O(a,t,o,i,s,"next",r)}function s(r){O(a,t,o,i,s,"throw",r)}i(void 0)}))}}function K(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,o,a=[],i=!0,s=!1;try{for(n=n.call(r);!(i=(t=n.next()).done)&&(a.push(t.value),!e||a.length!==e);i=!0);}catch(u){s=!0,o=u}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return M(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(){var r=function(r){"Enter"===r.key&&g()},e=(0,T.useRouter)(),n=K((0,I.d)(),2),a=(n[0],n[1]),i=K((0,A.YA)(),2),u=i[0],l=i[1],f=l.loading,p=l.error,m=(0,o.useState)(""),v=m[0],x=m[1],y=(0,o.useState)(""),b=y[0],j=y[1];function g(){return w.apply(this,arguments)}function w(){return(w=G(d().mark((function r(){var n,t,o;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u({variables:{name:v,password:b}});case 3:if(n=r.sent.data){r.next=6;break}return r.abrupt("return");case 6:t=n.login,o=t.token,a(o),e.push("/play"),r.next=13;break;case 11:r.prev=11,r.t0=r.catch(0);case 13:case"end":return r.stop()}}),r,null,[[0,11]])})))).apply(this,arguments)}return(0,t.jsx)(o.Fragment,{children:(0,t.jsxs)(C,{children:[(0,t.jsx)(s.Z,{children:"This is a game about clicking things and watching numbers go up, login if you have an account already."}),(0,t.jsx)("br",{}),(0,t.jsx)(h.Z,{helperText:!!p&&p.message,error:!!p,label:"Character Name",variant:"outlined",onChange:function(r){return x(r.target.value)},disabled:f,onKeyPress:r}),(0,t.jsx)("br",{}),(0,t.jsx)(h.Z,{error:!!p,label:"Password",variant:"outlined",type:"password",onChange:function(r){return j(r.target.value)},disabled:f,onKeyPress:r}),(0,t.jsx)("br",{}),(0,t.jsx)(c.Z,{type:"submit",variant:"contained",onClick:g,disabled:f,children:"Play"})]})})}function U(){var r=(0,o.useState)(!1),e=r[0],n=r[1];return(0,t.jsxs)(l.Z,{maxWidth:"sm",children:[e&&(0,t.jsxs)(o.Fragment,{children:[(0,t.jsx)(F,{onSignup:function(){return n(!1)}}),(0,t.jsxs)(s.Z,{children:["Already have an account?",(0,t.jsx)(c.Z,{onClick:function(){return n(!1)},children:"Login here"})]})]}),!e&&(0,t.jsxs)(o.Fragment,{children:[(0,t.jsx)(R,{}),(0,t.jsxs)(s.Z,{children:["Need an account?",(0,t.jsx)(c.Z,{onClick:function(){return n(!0)},children:"Create one"})]})]})]})}var Y=function(){return(0,t.jsxs)(u.A,{children:[(0,t.jsx)("br",{}),(0,t.jsx)(U,{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(a.Z,{}),(0,t.jsx)("br",{}),(0,t.jsxs)(i.ZP,{container:!0,columns:2,children:[(0,t.jsx)(i.ZP,{item:!0,sm:1,xs:1,children:(0,t.jsx)(s.Z,{children:(0,t.jsx)("a",{href:"https://github.com/chrisinajar/proofofcombat",target:"_blank",rel:"noreferrer",children:"Client source code"})})}),(0,t.jsx)(i.ZP,{item:!0,sm:1,xs:1,children:(0,t.jsx)(s.Z,{align:"right",children:(0,t.jsx)("a",{href:"https://github.com/chrisinajar/proofofcombat-server",target:"_blank",rel:"noreferrer",children:"Server source code"})})})]}),(0,t.jsx)("br",{})]})}}},function(r){r.O(0,[942,320,774,888,179],(function(){return e=5301,r(r.s=e);var e}));var e=r.O();_N_E=e}]);