(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9496)}])},9496:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Y}});var n=t(5893),o=t(7294),a=t(3366),i=t(7462),l=t(6010),s=t(7192),c=t(1796),u=t(1496),d=t(7623),h=t(5097);const f=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],p=(0,u.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.absolute&&r.absolute,r[t.variant],t.light&&r.light,"vertical"===t.orientation&&r.vertical,t.flexItem&&r.flexItem,t.children&&r.withChildren,t.children&&"vertical"===t.orientation&&r.withChildrenVertical,"right"===t.textAlign&&"vertical"!==t.orientation&&r.textAlignRight,"left"===t.textAlign&&"vertical"!==t.orientation&&r.textAlignLeft]}})((({theme:e,ownerState:r})=>(0,i.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:e.palette.divider,borderBottomWidth:"thin"},r.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},r.light&&{borderColor:(0,c.Fq)(e.palette.divider,.08)},"inset"===r.variant&&{marginLeft:72},"middle"===r.variant&&"horizontal"===r.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===r.variant&&"vertical"===r.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===r.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},r.flexItem&&{alignSelf:"stretch",height:"auto"})),(({theme:e,ownerState:r})=>(0,i.Z)({},r.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${e.palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}})),(({theme:e,ownerState:r})=>(0,i.Z)({},r.children&&"vertical"===r.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${e.palette.divider}`,transform:"translateX(0%)"}})),(({ownerState:e})=>(0,i.Z)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),v=(0,u.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.wrapper,"vertical"===t.orientation&&r.wrapperVertical]}})((({theme:e,ownerState:r})=>(0,i.Z)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===r.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})));var m=o.forwardRef((function(e,r){const t=(0,d.Z)({props:e,name:"MuiDivider"}),{absolute:o=!1,children:c,className:u,component:m=(c?"div":"hr"),flexItem:g=!1,light:x=!1,orientation:b="horizontal",role:w=("hr"!==m?"separator":void 0),textAlign:y="center",variant:j="fullWidth"}=t,Z=(0,a.Z)(t,f),S=(0,i.Z)({},t,{absolute:o,component:m,flexItem:g,light:x,orientation:b,role:w,textAlign:y,variant:j}),A=(e=>{const{absolute:r,children:t,classes:n,flexItem:o,light:a,orientation:i,textAlign:l,variant:c}=e,u={root:["root",r&&"absolute",c,a&&"light","vertical"===i&&"vertical",o&&"flexItem",t&&"withChildren",t&&"vertical"===i&&"withChildrenVertical","right"===l&&"vertical"!==i&&"textAlignRight","left"===l&&"vertical"!==i&&"textAlignLeft"],wrapper:["wrapper","vertical"===i&&"wrapperVertical"]};return(0,s.Z)(u,h.V,n)})(S);return(0,n.jsx)(p,(0,i.Z)({as:m,className:(0,l.Z)(A.root,u),role:w,ref:r,ownerState:S},Z,{children:c?(0,n.jsx)(v,{className:A.wrapper,ownerState:S,children:c}):null}))})),g=t(6886),x=t(5861),b=t(1320),w=t(3321),y=t(7948),j=t(4051),Z=t.n(j),S=t(5449),A=t(8979);function C(e){return(0,A.Z)("MuiFormGroup",e)}(0,t(6087).Z)("MuiFormGroup",["root","row","error"]);var k=t(4423),P=t(5704);const N=["className","row"],I=(0,u.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.row&&r.row]}})((({ownerState:e})=>(0,i.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})));var _=o.forwardRef((function(e,r){const t=(0,d.Z)({props:e,name:"MuiFormGroup"}),{className:o,row:c=!1}=t,u=(0,a.Z)(t,N),h=(0,k.Z)(),f=(0,P.Z)({props:t,muiFormControl:h,states:["error"]}),p=(0,i.Z)({},t,{row:c,error:f.error}),v=(e=>{const{classes:r,row:t,error:n}=e,o={root:["root",t&&"row",n&&"error"]};return(0,s.Z)(o,C,r)})(p);return(0,n.jsx)(I,(0,i.Z)({className:(0,l.Z)(v.root,o),ownerState:p,ref:r},u))})),R=t(9402);function T(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function F(e,r,t,n,o,a,i){try{var l=e[a](i),s=l.value}catch(c){return void t(c)}l.done?r(s):Promise.resolve(s).then(n,o)}function E(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){F(a,n,o,i,l,"next",e)}function l(e){F(a,n,o,i,l,"throw",e)}i(void 0)}))}}function M(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(s){l=!0,o=s}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return T(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e){var r=function(e){"Enter"===e.key&&g()},t=e.onSignup,a=((0,R.Bl)(),(0,o.useState)("")),i=a[0],l=a[1],s=(0,o.useState)(""),c=s[0],u=s[1],d=M((0,R.Bl)(),2),h=d[0],f=d[1],p=(f.data,f.loading),v=f.error,m=v&&"Username already exists"===v.message;function g(){return b.apply(this,arguments)}function b(){return(b=E(Z().mark((function e(){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Attempting to create an account..."),e.prev=1,e.next=4,h({variables:{name:i,password:c}});case 4:t&&t(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return(0,n.jsx)(o.Fragment,{children:(0,n.jsxs)(_,{children:[(0,n.jsx)(x.Z,{children:"Create a new account. You must choose a character name that has not already been used. You may create as many accounts as you would like, however there is no account recovery."}),(0,n.jsx)("br",{}),(0,n.jsx)(S.Z,{helperText:m&&v.message,error:m,label:"Character Name",variant:"outlined",value:i,onChange:function(e){return l(e.target.value)},onKeyPress:r,disabled:p}),(0,n.jsx)("br",{}),(0,n.jsx)(S.Z,{label:"Password",variant:"outlined",type:"password",value:c,onChange:function(e){return u(e.target.value)},onKeyPress:r,disabled:p}),(0,n.jsx)("br",{}),(0,n.jsx)(w.Z,{type:"submit",variant:"contained",onClick:g,disabled:p,children:"Create Account"}),(0,n.jsx)("br",{})]})})}var $=t(1163),L=t(9692);function B(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function D(e,r,t,n,o,a,i){try{var l=e[a](i),s=l.value}catch(c){return void t(c)}l.done?r(s):Promise.resolve(s).then(n,o)}function O(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){D(a,n,o,i,l,"next",e)}function l(e){D(a,n,o,i,l,"throw",e)}i(void 0)}))}}function V(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(s){l=!0,o=s}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return B(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return B(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(){var e=function(e){"Enter"===e.key&&g()},r=(0,$.useRouter)(),t=V((0,L.d)(),2),a=(t[0],t[1]),i=V((0,R.YA)(),2),l=i[0],s=i[1],c=s.loading,u=s.error,d=(0,o.useState)(""),h=d[0],f=d[1],p=(0,o.useState)(""),v=p[0],m=p[1];function g(){return b.apply(this,arguments)}function b(){return(b=O(Z().mark((function e(){var t,n,o;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({variables:{name:h,password:v}});case 3:if(t=e.sent.data){e.next=6;break}return e.abrupt("return");case 6:n=t.login,o=n.token,a(o),r.push("/play"),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return(0,n.jsx)(o.Fragment,{children:(0,n.jsxs)(_,{children:[(0,n.jsx)(x.Z,{children:"This is a game about clicking things and watching numbers go up, login if you have an account already."}),(0,n.jsx)("br",{}),(0,n.jsx)(S.Z,{helperText:!!u&&u.message,error:!!u,label:"Character Name",variant:"outlined",onChange:function(e){return f(e.target.value)},disabled:c,onKeyPress:e}),(0,n.jsx)("br",{}),(0,n.jsx)(S.Z,{error:!!u,label:"Password",variant:"outlined",type:"password",onChange:function(e){return m(e.target.value)},disabled:c,onKeyPress:e}),(0,n.jsx)("br",{}),(0,n.jsx)(w.Z,{type:"submit",variant:"contained",onClick:g,disabled:c,children:"Play"})]})})}function K(){var e=(0,o.useState)(!1),r=e[0],t=e[1];return(0,n.jsxs)(y.Z,{maxWidth:"sm",children:[r&&(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(W,{onSignup:function(){return t(!1)}}),(0,n.jsxs)(x.Z,{children:["Already have an account?",(0,n.jsx)(w.Z,{onClick:function(){return t(!1)},children:"Login here"})]})]}),!r&&(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(G,{}),(0,n.jsxs)(x.Z,{children:["Need an account?",(0,n.jsx)(w.Z,{onClick:function(){return t(!0)},children:"Create one"})]})]})]})}var Y=function(){return(0,n.jsxs)(b.A,{children:[(0,n.jsx)("br",{}),(0,n.jsx)(K,{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(m,{}),(0,n.jsx)("br",{}),(0,n.jsxs)(g.ZP,{container:!0,columns:2,children:[(0,n.jsx)(g.ZP,{item:!0,sm:1,xs:1,children:(0,n.jsx)(x.Z,{children:(0,n.jsx)("a",{href:"https://github.com/chrisinajar/proofofcombat",target:"_blank",rel:"noreferrer",children:"Client source code"})})}),(0,n.jsx)(g.ZP,{item:!0,sm:1,xs:1,children:(0,n.jsx)(x.Z,{align:"right",children:(0,n.jsx)("a",{href:"https://github.com/chrisinajar/proofofcombat-server",target:"_blank",rel:"noreferrer",children:"Server source code"})})})]}),(0,n.jsx)("br",{})]})}}},function(e){e.O(0,[918,320,774,888,179],(function(){return r=5301,e(e.s=r);var r}));var r=e.O();_N_E=r}]);