(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2702)}])},2702:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Y}});var n=r(5893),i=r(7294),o=r(3366),a=r(7462),l=r(6010),s=r(7192),c=r(1796),u=r(2151),d=r(7623),h=r(3620),f=r(6087);function m(e){return(0,h.Z)("MuiDivider",e)}(0,f.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const p=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],x=(0,u.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((({theme:e,ownerState:t})=>(0,a.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:e.palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:(0,c.Fq)(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"})),(({theme:e,ownerState:t})=>(0,a.Z)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${e.palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}})),(({theme:e,ownerState:t})=>(0,a.Z)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${e.palette.divider}`,transform:"translateX(0%)"}})),(({ownerState:e})=>(0,a.Z)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),g=(0,u.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((({theme:e,ownerState:t})=>(0,a.Z)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})));var v=i.forwardRef((function(e,t){const r=(0,d.Z)({props:e,name:"MuiDivider"}),{absolute:i=!1,children:c,className:u,component:h=(c?"div":"hr"),flexItem:f=!1,light:v=!1,orientation:b="horizontal",role:y=("hr"!==h?"separator":void 0),textAlign:j="center",variant:w="fullWidth"}=r,Z=(0,o.Z)(r,p),S=(0,a.Z)({},r,{absolute:i,component:h,flexItem:f,light:v,orientation:b,role:y,textAlign:j,variant:w}),P=(e=>{const{absolute:t,children:r,classes:n,flexItem:i,light:o,orientation:a,textAlign:l,variant:c}=e,u={root:["root",t&&"absolute",c,o&&"light","vertical"===a&&"vertical",i&&"flexItem",r&&"withChildren",r&&"vertical"===a&&"withChildrenVertical","right"===l&&"vertical"!==a&&"textAlignRight","left"===l&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]};return(0,s.Z)(u,m,n)})(S);return(0,n.jsx)(x,(0,a.Z)({as:h,className:(0,l.Z)(P.root,u),role:y,ref:t,ownerState:S},Z,{children:c?(0,n.jsx)(g,{className:P.wrapper,ownerState:S,children:c}):null}))})),b=r(6886),y=r(5861),j=r(2192),w=r(2630),Z=r(7948),S=r(4051),P=r.n(S),A=r(4374);function C(e){return(0,h.Z)("MuiFormGroup",e)}(0,f.Z)("MuiFormGroup",["root","row","error"]);var k=r(4423),I=r(5704);const O=["className","row"],$=(0,u.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.row&&t.row]}})((({ownerState:e})=>(0,a.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})));var E=i.forwardRef((function(e,t){const r=(0,d.Z)({props:e,name:"MuiFormGroup"}),{className:i,row:c=!1}=r,u=(0,o.Z)(r,O),h=(0,k.Z)(),f=(0,I.Z)({props:r,muiFormControl:h,states:["error"]}),m=(0,a.Z)({},r,{row:c,error:f.error}),p=(e=>{const{classes:t,row:r,error:n}=e,i={root:["root",r&&"row",n&&"error"]};return(0,s.Z)(i,C,t)})(m);return(0,n.jsx)($,(0,a.Z)({className:(0,l.Z)(p.root,i),ownerState:m,ref:t},u))})),N=r(9402);function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F(e,t,r,n,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void r(c)}l.done?t(s):Promise.resolve(s).then(n,i)}function T(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){F(o,n,i,a,l,"next",e)}function l(e){F(o,n,i,a,l,"throw",e)}a(void 0)}))}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==r.return||r.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){var t=function(e){"Enter"===e.key&&g()},r=e.onSignup,o=((0,N.Bl)(),(0,i.useState)("")),a=o[0],l=o[1],s=(0,i.useState)(""),c=s[0],u=s[1],d=_((0,N.Bl)(),2),h=d[0],f=d[1],m=(f.data,f.loading),p=f.error,x=p&&"Username already exists"===p.message;function g(){return v.apply(this,arguments)}function v(){return(v=T(P().mark((function e(){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Attempting to create an account..."),e.prev=1,e.next=4,h({variables:{name:a,password:c}});case 4:r&&r(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return(0,n.jsx)(i.Fragment,{children:(0,n.jsxs)(E,{children:[(0,n.jsx)(y.Z,{children:"Create a new account. You must choose a character name that has not already been used. You may create as many accounts as you would like, however there is no account recovery."}),(0,n.jsx)("br",{}),(0,n.jsx)(A.Z,{helperText:x&&p.message,error:x,label:"Character Name",variant:"outlined",value:a,onChange:function(e){return l(e.target.value)},onKeyPress:t,disabled:m}),(0,n.jsx)("br",{}),(0,n.jsx)(A.Z,{label:"Password",variant:"outlined",type:"password",value:c,onChange:function(e){return u(e.target.value)},onKeyPress:t,disabled:m}),(0,n.jsx)("br",{}),(0,n.jsx)(w.Z,{type:"submit",variant:"contained",onClick:g,disabled:m,children:"Create Account"}),(0,n.jsx)("br",{})]})})}var M=r(1163),D=r(9692);function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B(e,t,r,n,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void r(c)}l.done?t(s):Promise.resolve(s).then(n,i)}function G(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){B(o,n,i,a,l,"next",e)}function l(e){B(o,n,i,a,l,"throw",e)}a(void 0)}))}}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==r.return||r.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(){var e=function(e){"Enter"===e.key&&g()},t=(0,M.useRouter)(),r=U((0,D.d)(),2),o=(r[0],r[1]),a=U((0,N.YA)(),2),l=a[0],s=a[1],c=s.loading,u=s.error,d=(0,i.useState)(""),h=d[0],f=d[1],m=(0,i.useState)(""),p=m[0],x=m[1];function g(){return v.apply(this,arguments)}function v(){return(v=G(P().mark((function e(){var r,n,i;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({variables:{name:h,password:p}});case 3:if(r=e.sent.data){e.next=6;break}return e.abrupt("return");case 6:n=r.login,i=n.token,o(i),t.push("/play"),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return(0,n.jsx)(i.Fragment,{children:(0,n.jsxs)(E,{children:[(0,n.jsx)(y.Z,{children:"This is a game about clicking numbers and watching numbers go up, login if you have an account already."}),(0,n.jsx)("br",{}),(0,n.jsx)(A.Z,{helperText:!!u&&u.message,error:!!u,label:"Character Name",variant:"outlined",onChange:function(e){return f(e.target.value)},disabled:c,onKeyPress:e}),(0,n.jsx)("br",{}),(0,n.jsx)(A.Z,{error:!!u,label:"Password",variant:"outlined",type:"password",onChange:function(e){return x(e.target.value)},disabled:c,onKeyPress:e}),(0,n.jsx)("br",{}),(0,n.jsx)(w.Z,{type:"submit",variant:"contained",onClick:g,disabled:c,children:"Play"})]})})}function H(){var e=(0,i.useState)(!1),t=e[0],r=e[1];return(0,n.jsxs)(Z.Z,{maxWidth:"sm",children:[t&&(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)(L,{onSignup:function(){return r(!1)}}),(0,n.jsxs)(y.Z,{children:["Already have an account?",(0,n.jsx)(w.Z,{onClick:function(){return r(!1)},children:"Login here"})]})]}),!t&&(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)(V,{}),(0,n.jsxs)(y.Z,{children:["Need an account?",(0,n.jsx)(w.Z,{onClick:function(){return r(!0)},children:"Create one"})]})]})]})}var Y=function(){return(0,n.jsxs)(j.A,{children:[(0,n.jsx)("br",{}),(0,n.jsx)(H,{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(v,{}),(0,n.jsx)("br",{}),(0,n.jsxs)(b.ZP,{container:!0,columns:2,children:[(0,n.jsx)(b.ZP,{item:!0,sm:1,xs:1,children:(0,n.jsx)(y.Z,{children:(0,n.jsx)("a",{href:"https://github.com/chrisinajar/proofofcombat",target:"_blank",rel:"noreferrer",children:"Client source code"})})}),(0,n.jsx)(b.ZP,{item:!0,sm:1,xs:1,children:(0,n.jsx)(y.Z,{align:"right",children:(0,n.jsx)("a",{href:"https://github.com/chrisinajar/proofofcombat-server",target:"_blank",rel:"noreferrer",children:"Server source code"})})})]}),(0,n.jsx)("br",{})]})}},2192:function(e,t,r){"use strict";r.d(t,{A:function(){return b}});var n=r(5893),i=r(7294),o=r(7948),a=r(9402),l=r(6252),s=r(1163),c=r(2293),u=r(155),d=r(5861),h=r(6886),f=r(2630),m=r(9692);function p(e){var t=e.hero;return console.log({hero:t}),(0,n.jsx)(i.Fragment,{children:(0,n.jsxs)(h.ZP,{container:!0,columns:6,children:[(0,n.jsxs)(h.ZP,{item:!0,lg:1,md:2,sm:3,xs:6,children:["Level: ",t.level]}),(0,n.jsxs)(h.ZP,{item:!0,lg:1,md:2,sm:3,xs:6,children:["Location: ",t.location.x,", ",t.location.y]}),(0,n.jsxs)(h.ZP,{item:!0,lg:1,md:2,sm:3,xs:6,children:["Gold: ",t.gold]}),(0,n.jsxs)(h.ZP,{item:!0,lg:1,md:2,sm:3,xs:6,children:["Experience: ",t.experience]}),(0,n.jsxs)(h.ZP,{item:!0,lg:1,md:2,sm:3,xs:6,children:["Health: ",t.combat.health," / ",t.combat.maxHealth]}),(0,n.jsxs)(h.ZP,{item:!0,lg:1,md:2,sm:3,xs:6,children:["Luck: ",t.stats.luck]}),(0,n.jsxs)(h.ZP,{item:!0,lg:1,md:2,sm:3,xs:6,children:["Strength: ",t.stats.strength]}),(0,n.jsxs)(h.ZP,{item:!0,lg:1,md:2,sm:3,xs:6,children:["Dexterity: ",t.stats.dexterity]}),(0,n.jsxs)(h.ZP,{item:!0,lg:1,md:2,sm:3,xs:6,children:["Constitution: ",t.stats.constitution]}),(0,n.jsxs)(h.ZP,{item:!0,lg:1,md:2,sm:3,xs:6,children:["Intelligence: ",t.stats.intelligence]}),(0,n.jsxs)(h.ZP,{item:!0,lg:1,md:2,sm:3,xs:6,children:["Wisdom: ",t.stats.wisdom]}),(0,n.jsxs)(h.ZP,{item:!0,lg:1,md:2,sm:3,xs:6,children:["Charisma: ",t.stats.charisma]})]})})}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==r.return||r.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){var t=e.hero,r=(0,s.useRouter)(),a=(0,l.x)(),x=g((0,m.d)(),2),v=(x[0],x[1]);return(0,n.jsxs)(c.Z,{position:"static",children:[(0,n.jsx)(u.Z,{children:(0,n.jsx)(o.Z,{children:(0,n.jsxs)(h.ZP,{container:!0,columns:3,children:[(0,n.jsx)(h.ZP,{item:!0,xs:2,children:(0,n.jsx)(d.Z,{variant:"h4",children:"Proof of Combat"})}),(0,n.jsx)(h.ZP,{item:!0,xs:1,children:t&&(0,n.jsx)(i.Fragment,{children:(0,n.jsxs)(d.Z,{variant:"h6",align:"right",children:[t.name,(0,n.jsx)("br",{}),(0,n.jsx)(f.Z,{color:"error",variant:"contained",disableElevation:!0,onClick:function(){v(null),a.clearStore(),r.push("/")},children:"Logout"})]})})})]})})}),(0,n.jsx)(o.Z,{children:t&&(0,n.jsx)(p,{hero:t})})]})}function b(e){var t=e.children,r=e.showHero,l=void 0!==r&&r,s=(0,a.UE)({skip:!l}).data;if(s&&l){var c=s.me.account.hero;if(c)return(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)(v,{hero:c}),(0,n.jsx)(o.Z,{children:t})]})}return(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)(v,{}),(0,n.jsx)(o.Z,{children:t})]})}},9402:function(e,t,r){"use strict";r.d(t,{TX:function(){return p},YA:function(){return g},Bl:function(){return b},UE:function(){return j}});var n=r(7283),i=r(1641),o=r(319);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function c(){var e=s(["\n    query GetChatToken {\n  chat {\n    token\n  }\n}\n    "]);return c=function(){return e},e}function u(){var e=s(["\n    mutation Login($name: String!, $password: String!) {\n  login(name: $name, password: $password) {\n    token\n    account {\n      name\n      hero {\n        name\n        level\n        experience\n        combat {\n          health\n          maxHealth\n        }\n        stats {\n          strength\n          dexterity\n          constitution\n          intelligence\n          wisdom\n          charisma\n          luck\n        }\n      }\n    }\n  }\n}\n    "]);return u=function(){return e},e}function d(){var e=s(["\n    mutation Signup($name: String!, $password: String!) {\n  createAccount(name: $name, password: $password) {\n    name\n    hero {\n      name\n    }\n  }\n}\n    "]);return d=function(){return e},e}function h(){var e=s(["\n    query Me {\n  me {\n    account {\n      hero {\n        name\n        level\n        experience\n        gold\n        location {\n          x\n          y\n          map\n        }\n        combat {\n          health\n          maxHealth\n        }\n        stats {\n          dexterity\n          intelligence\n          charisma\n          constitution\n          wisdom\n          luck\n          strength\n        }\n      }\n    }\n  }\n}\n    "]);return h=function(){return e},e}var f={},m=(0,n.Ps)(c());function p(e){var t=l({},f,e);return i.a(m,t)}var x=(0,n.Ps)(u());function g(e){var t=l({},f,e);return o.D(x,t)}var v=(0,n.Ps)(d());function b(e){var t=l({},f,e);return o.D(v,t)}var y=(0,n.Ps)(h());function j(e){var t=l({},f,e);return i.a(y,t)}},9692:function(e,t,r){"use strict";r.d(t,{d:function(){return l}});var n,i=r(7294),o=["undefined"!==typeof localStorage&&null!==(n=localStorage.token)&&void 0!==n?n:null,function(e){o[0]=e,"undefined"!==typeof localStorage&&(localStorage.token=e)}],a=i.createContext(o);function l(){return i.useContext(a)}}},function(e){e.O(0,[935,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);