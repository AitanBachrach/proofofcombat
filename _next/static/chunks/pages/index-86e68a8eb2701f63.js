(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(r,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3963)}])},3963:function(r,e,n){"use strict";n.r(e),n.d(e,{default:function(){return R}});var t=n(5893),o=n(7294),a=n(8491),u=n(3321),i=n(7948),s=n(5861),c=n(4051),l=n.n(c),f=n(1903),d=n(3366),h=n(7462),p=n(6010),v=n(7192),y=n(1496),m=n(7623),x=n(8979);function b(r){return(0,x.Z)("MuiFormGroup",r)}(0,n(6087).Z)("MuiFormGroup",["root","row","error"]);var w=n(4423),g=n(5704);const j=["className","row"],Z=(0,y.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:n}=r;return[e.root,n.row&&e.row]}})((({ownerState:r})=>(0,h.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},r.row&&{flexDirection:"row"})));var S=o.forwardRef((function(r,e){const n=(0,m.Z)({props:r,name:"MuiFormGroup"}),{className:o,row:a=!1}=n,u=(0,d.Z)(n,j),i=(0,w.Z)(),s=(0,g.Z)({props:n,muiFormControl:i,states:["error"]}),c=(0,h.Z)({},n,{row:a,error:s.error}),l=(r=>{const{classes:e,row:n,error:t}=r,o={root:["root",n&&"row",t&&"error"]};return(0,v.Z)(o,b,e)})(c);return(0,t.jsx)(Z,(0,h.Z)({className:(0,p.Z)(l.root,o),ownerState:c,ref:e},u))})),k=n(9402);function C(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function A(r,e,n,t,o,a,u){try{var i=r[a](u),s=i.value}catch(c){return void n(c)}i.done?e(s):Promise.resolve(s).then(t,o)}function P(r){return function(){var e=this,n=arguments;return new Promise((function(t,o){var a=r.apply(e,n);function u(r){A(a,t,o,u,i,"next",r)}function i(r){A(a,t,o,u,i,"throw",r)}u(void 0)}))}}function _(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,o,a=[],u=!0,i=!1;try{for(n=n.call(r);!(u=(t=n.next()).done)&&(a.push(t.value),!e||a.length!==e);u=!0);}catch(s){i=!0,o=s}finally{try{u||null==n.return||n.return()}finally{if(i)throw o}}return a}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return C(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(r){var e=function(r){"Enter"===r.key&&g()},n=r.onSignup,a=((0,k.Bl)(),(0,o.useState)("")),i=a[0],c=a[1],d=(0,o.useState)(""),h=d[0],p=d[1],v=_((0,k.Bl)(),2),y=v[0],m=v[1],x=(m.data,m.loading),b=m.error,w=b&&"Username already exists"===b.message;function g(){return j.apply(this,arguments)}function j(){return(j=P(l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("Attempting to create an account..."),r.prev=1,r.next=4,y({variables:{name:i,password:h}});case 4:n&&n(),r.next=9;break;case 7:r.prev=7,r.t0=r.catch(1);case 9:case"end":return r.stop()}}),r,null,[[1,7]])})))).apply(this,arguments)}return(0,t.jsx)(o.Fragment,{children:(0,t.jsxs)(S,{children:[(0,t.jsx)(s.Z,{children:"Create a new account. You must choose a character name that has not already been used. You may create as many accounts as you would like, however there is no account recovery."}),(0,t.jsx)("br",{}),(0,t.jsx)(f.Z,{helperText:w&&b.message,error:w,label:"Character Name",variant:"outlined",value:i,onChange:function(r){return c(r.target.value)},onKeyPress:e,disabled:x}),(0,t.jsx)("br",{}),(0,t.jsx)(f.Z,{label:"Password",variant:"outlined",type:"password",value:h,onChange:function(r){return p(r.target.value)},onKeyPress:e,disabled:x}),(0,t.jsx)("br",{}),(0,t.jsx)(u.Z,{type:"submit",variant:"contained",onClick:g,disabled:x,children:"Create Account"}),(0,t.jsx)("br",{})]})})}var E=n(1163),F=n(9692);function T(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function I(r,e,n,t,o,a,u){try{var i=r[a](u),s=i.value}catch(c){return void n(c)}i.done?e(s):Promise.resolve(s).then(t,o)}function M(r){return function(){var e=this,n=arguments;return new Promise((function(t,o){var a=r.apply(e,n);function u(r){I(a,t,o,u,i,"next",r)}function i(r){I(a,t,o,u,i,"throw",r)}u(void 0)}))}}function O(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,o,a=[],u=!0,i=!1;try{for(n=n.call(r);!(u=(t=n.next()).done)&&(a.push(t.value),!e||a.length!==e);u=!0);}catch(s){i=!0,o=s}finally{try{u||null==n.return||n.return()}finally{if(i)throw o}}return a}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return T(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(){var r=function(r){"Enter"===r.key&&g()},e=(0,E.useRouter)(),n=O((0,F.d)(),2),a=(n[0],n[1]),i=O((0,k.YA)(),2),c=i[0],d=i[1],h=d.loading,p=d.error,v=(0,o.useState)(""),y=v[0],m=v[1],x=(0,o.useState)(""),b=x[0],w=x[1];function g(){return j.apply(this,arguments)}function j(){return(j=M(l().mark((function r(){var n,t,o;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c({variables:{name:y,password:b}});case 3:if(n=r.sent.data){r.next=6;break}return r.abrupt("return");case 6:t=n.login,o=t.token,a(o),e.push("/play"),r.next=13;break;case 11:r.prev=11,r.t0=r.catch(0);case 13:case"end":return r.stop()}}),r,null,[[0,11]])})))).apply(this,arguments)}return(0,t.jsx)(o.Fragment,{children:(0,t.jsxs)(S,{children:[(0,t.jsx)(s.Z,{children:"This is a game about clicking things and watching numbers go up, login if you have an account already."}),(0,t.jsx)("br",{}),(0,t.jsx)(f.Z,{helperText:!!p&&p.message,error:!!p,label:"Character Name",variant:"outlined",onChange:function(r){return m(r.target.value)},disabled:h,onKeyPress:r}),(0,t.jsx)("br",{}),(0,t.jsx)(f.Z,{error:!!p,label:"Password",variant:"outlined",type:"password",onChange:function(r){return w(r.target.value)},disabled:h,onKeyPress:r}),(0,t.jsx)("br",{}),(0,t.jsx)(u.Z,{type:"submit",variant:"contained",onClick:g,disabled:h,children:"Play"})]})})}function K(){var r=(0,o.useState)(!1),e=r[0],n=r[1];return(0,t.jsxs)(i.Z,{maxWidth:"sm",children:[e&&(0,t.jsxs)(o.Fragment,{children:[(0,t.jsx)(N,{onSignup:function(){return n(!1)}}),(0,t.jsxs)(s.Z,{children:["Already have an account?",(0,t.jsx)(u.Z,{onClick:function(){return n(!1)},children:"Login here"})]})]}),!e&&(0,t.jsxs)(o.Fragment,{children:[(0,t.jsx)(G,{}),(0,t.jsxs)(s.Z,{children:["Need an account?",(0,t.jsx)(u.Z,{onClick:function(){return n(!0)},children:"Create one"})]})]})]})}var R=function(){return(0,t.jsxs)(a.A,{children:[(0,t.jsx)("br",{}),(0,t.jsx)(K,{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{})]})}}},function(r){r.O(0,[942,491,774,888,179],(function(){return e=5301,r(r.s=e);var e}));var e=r.O();_N_E=e}]);