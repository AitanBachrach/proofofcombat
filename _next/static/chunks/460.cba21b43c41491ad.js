"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[460],{3460:function(t,n,e){e.r(n),e.d(n,{default:function(){return jt}});var r=e(5893),i=e(7294),o=e(1163),a=e(7357),l=e(7720),c=e(1458),s=e(44),u=e(5861),d=e(5670),h=e(7225),f=e(5050),m=e(1320),v=e(4051),x=e.n(v),p=e(1157),y=e(8445),g=e(1903),b=e(9402);function j(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Z(t,n,e,r,i,o,a){try{var l=t[o](a),c=l.value}catch(s){return void e(s)}l.done?n(c):Promise.resolve(c).then(r,i)}function w(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function a(t){Z(o,r,i,a,l,"next",t)}function l(t){Z(o,r,i,a,l,"throw",t)}a(void 0)}))}}function k(t){return function(t){if(Array.isArray(t))return j(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"===typeof t)return j(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return j(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A="https://chrisinajar.com:5000/";function P(){var t,n,e=function(t){return t.trim()},o=(0,b.TX)().data,l=(0,i.useState)([]),c=l[0],s=l[1],u=(0,i.useState)(!1),d=u[0],h=u[1],f=(0,i.useState)(""),m=f[0],v=f[1],j=(0,i.useRef)();(0,i.useEffect)((function(){var t;if(!j.current&&(null===o||void 0===o||null===(t=o.chat)||void 0===t?void 0:t.token))return j.current=(0,p.io)(A,{withCredentials:!0,auth:{token:o.chat.token}}),j.current.on("hello",(function(t){s(t.chat)})),j.current.on("chat",(function(t){console.log("Got chat event!",t),s((function(n){return[t].concat(k(n))}))})),function(){j.current&&(j.current.disconnect(),j.current=void 0)}}),[null===o||void 0===o||null===(t=o.chat)||void 0===t?void 0:t.token]);var Z=e(m);function P(){return(P=w(x().mark((function t(n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Enter"===n.key&&j.current){t.next=2;break}return t.abrupt("return");case 2:j.current.emit("chat",{message:m},(function(t){console.log("Got a reply!",t),s((function(n){return[t].concat(k(n))}))})),v("");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(g.Z,{fullWidth:!0,disabled:!(null===(n=j.current)||void 0===n?void 0:n.connected),value:m,name:"Chat input",label:d?"Max message: ".concat(Z.length,"/").concat(140):"Type here...",placeholder:"Type here...",onChange:function(t){var n=t.target.value;e(n).length<=140&&v(n)},onFocus:function(){return h(!0)},onBlur:function(){return h(!1)},autoComplete:"off",onKeyPress:function(t){return P.apply(this,arguments)}}),(0,r.jsx)(a.Z,{sx:{backgroundColor:"primary.light",padding:1,minHeight:"600px"},children:c.map((function(t){return(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:t.from})," ",(0,y.emojify)(t.message)]},t.id)}))}),(0,r.jsx)("br",{})]})}var S=e(3321),C=e(6886),I=e(4054),E=e(3841),M=e(5645),T=e(3599),K=e(8456);function O(){var t,n,e,r=(0,b.UE)().data;return null!==(e=null===r||void 0===r||null===(t=r.me)||void 0===t||null===(n=t.account)||void 0===n?void 0:n.hero)&&void 0!==e?e:void 0}var F=e(9835),L=e(6893),U=e(1292),W=e(5499),$=e(5585),H=e(8698),R=e(7600),B=e(5826);function N(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Q(t,n,e,r,i,o,a){try{var l=t[o](a),c=l.value}catch(s){return void e(s)}l.done?n(c):Promise.resolve(c).then(r,i)}function Y(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function a(t){Q(o,r,i,a,l,"next",t)}function l(t){Q(o,r,i,a,l,"throw",t)}a(void 0)}))}}function G(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o=[],a=!0,l=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==e.return||e.return()}finally{if(l)throw i}}return o}}(t,n)||function(t,n){if(!t)return;if("string"===typeof t)return N(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return N(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t){var n=t.fight,e=n.id,o=n.monster,a=t.onVictory,l=t.onError,c=G((0,b.zC)(),2),s=c[0],d=c[1],h=d.data,f=(d.loading,null===h||void 0===h?void 0:h.fight);function m(t){return v.apply(this,arguments)}function v(){return(v=Y(x().mark((function t(n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Trying to fight",n),t.prev=1,t.next=4,s({variables:{monster:e,attackType:n}});case 4:t.sent,a&&a(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),l&&l(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}return console.log({fightResult:f}),(0,r.jsx)(i.Fragment,{children:(0,r.jsxs)(C.ZP,{style:{minHeight:"110px"},item:!0,xs:6,children:[(0,r.jsxs)(C.ZP,{container:!0,columns:6,children:[(0,r.jsx)(C.ZP,{item:!0,xs:6,sm:3,md:2,lg:1,children:(0,r.jsx)(L.Z,{title:"Attack using your strength",children:(0,r.jsx)(S.Z,{onClick:function(){return m(b.hK.Melee)},"aria-label":"melee attack",startIcon:(0,r.jsx)(U.Z,{}),children:"Melee attack"})})}),(0,r.jsx)(C.ZP,{item:!0,xs:6,sm:3,md:2,lg:1,children:(0,r.jsx)(L.Z,{title:"Attack using your dexterity",children:(0,r.jsx)(S.Z,{onClick:function(){return m(b.hK.Ranged)},"aria-label":"ranged attack",startIcon:(0,r.jsx)(W.Z,{}),children:"Ranged attack"})})}),(0,r.jsx)(C.ZP,{item:!0,xs:6,sm:3,md:2,lg:1,children:(0,r.jsx)(L.Z,{title:"Attack using your intelligence",children:(0,r.jsx)(S.Z,{onClick:function(){return m(b.hK.Wizard)},"aria-label":"conjuration spell",startIcon:(0,r.jsx)(H.Z,{}),children:"Conjuration Spell"})})}),(0,r.jsx)(C.ZP,{item:!0,xs:6,sm:3,md:2,lg:1,children:(0,r.jsx)(L.Z,{title:"Attack using your wisdon",children:(0,r.jsx)(S.Z,{onClick:function(){return m(b.hK.Elemental)},"aria-label":"elemental spell",startIcon:(0,r.jsx)($.Z,{}),children:"Elemental Spell"})})}),(0,r.jsx)(C.ZP,{item:!0,xs:6,sm:3,md:2,lg:1,children:(0,r.jsx)(L.Z,{title:"Attack using your charisma",children:(0,r.jsx)(S.Z,{onClick:function(){return m(b.hK.Holy)},"aria-label":"holy attack",startIcon:(0,r.jsx)(R.Z,{}),children:"Holy attack"})})}),(0,r.jsx)(C.ZP,{item:!0,xs:6,sm:3,md:2,lg:1,children:(0,r.jsx)(L.Z,{title:"Attack using your constitution",children:(0,r.jsx)(S.Z,{onClick:function(){return m(b.hK.Blood)},"aria-label":"blood magic",startIcon:(0,r.jsx)(B.Z,{}),children:"Blood magic"})})})]}),f&&f.log.map((function(t){return(0,r.jsx)(i.Fragment,{children:(0,r.jsxs)(u.Z,{children:[(0,r.jsx)("b",{children:t.from})," ".concat(z(t.attackType,t.success)," "),(0,r.jsx)("b",{children:t.to}),t.success?" for ".concat(t.damage," damage!"):"."]})},t.from)})),f&&f.victory&&(0,r.jsxs)(u.Z,{children:[o.name," has been killed!",f.experience&&" You gain ".concat(f.experience," experience! "),f.didLevel&&(0,r.jsx)("b",{children:"You leveled up!!"})]})]})})}function z(t,n){switch(t){case b.hK.Blood:return n?"lets blood and casts forth towards":"attempts to cast a spell against";case b.hK.Holy:return n?"summons powers beyond this world against":"attempts to cast a spell against";case b.hK.Elemental:return n?"creates an elemental storm around":"attempts to cast a spell against";case b.hK.Wizard:return n?"carefully casts a spell at":"attempts to cast a spell against";case b.hK.Ranged:return n?"fires an arrow at":"shoots an arrow but it misses";case b.hK.Melee:default:return n?"struck":"missed"}}function V(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function q(t,n,e,r,i,o,a){try{var l=t[o](a),c=l.value}catch(s){return void e(s)}l.done?n(c):Promise.resolve(c).then(r,i)}function X(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function a(t){q(o,r,i,a,l,"next",t)}function l(t){q(o,r,i,a,l,"throw",t)}a(void 0)}))}}function D(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o=[],a=!0,l=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==e.return||e.return()}finally{if(l)throw i}}return o}}(t,n)||tt(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t){return function(t){if(Array.isArray(t))return V(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||tt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(t,n){if(t){if("string"===typeof t)return V(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?V(t,n):void 0}}var nt="Select a monster to challenge",et="Fight a monster!";function rt(){var t,n,e=(0,i.useState)(null),o=e[0],a=e[1],l=D((0,F.g)(),2),c=l[0],s=l[1],d=(0,i.useState)(""),h=d[0],f=d[1],m=(0,i.useState)(""),v=m[0],p=m[1],y=(0,b.Of)(),g=y.data,j=y.loading,Z=(y.error,y.refetch),w=D((0,b.Ht)(),1)[0],k=D((0,b.hL)(),2),A=k[0],P=k[1].loading,L=(0,b.pL)(),U=L.data,W=L.refetch,$=(null===U||void 0===U?void 0:U.challenges)||[],H=O();function R(){return(R=X(x().mark((function t(){var n,e;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A();case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),t.t0.graphQLErrors&&(null===(n=t.t0.graphQLErrors[0])||void 0===n||null===(e=n.extensions)||void 0===e?void 0:e.delay)&&s(t.t0.graphQLErrors[0].extensions.remaining);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function B(){return(B=X(x().mark((function t(){var n;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null===g||void 0===g?void 0:g.monsters.find((function(t){return t.id===v})),a(null!==n&&void 0!==n?n:null);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return(N=X(x().mark((function t(){var n,e,r;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,w({variables:{monster:h}});case 4:(null===(e=t.sent.data)||void 0===e||null===(n=e.challenge)||void 0===n?void 0:n.id)&&p(null===e||void 0===e||null===(r=e.challenge)||void 0===r?void 0:r.id),Z(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Z();case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return(0,i.useEffect)((function(){W()}),[null===H||void 0===H?void 0:H.location.x,null===H||void 0===H?void 0:H.location.y,null===H||void 0===H?void 0:H.location.map]),(0,i.useEffect)((function(){var t;(null===g||void 0===g||null===(t=g.monsters)||void 0===t?void 0:t.length)&&(""===v?p(g.monsters[0].id):g.monsters.find((function(t){return t.id===v}))||p(g.monsters[0].id))}),[v,null===g||void 0===g||null===(t=g.monsters)||void 0===t?void 0:t.length]),(null===g||void 0===g||null===(n=g.monsters)||void 0===n?void 0:n.find((function(t){return t.id===v})))||(v=""),(0,r.jsx)(i.Fragment,{children:(0,r.jsxs)(C.ZP,{container:!0,columns:6,spacing:4,children:[o&&(0,r.jsx)(_,{fight:o,onVictory:function(){return Z()},onError:function(){Z(),a(null)}}),H&&H.combat.health>0&&(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(C.ZP,{item:!0,md:3,xs:6,children:(0,r.jsxs)(I.Z,{fullWidth:!0,children:[(0,r.jsx)(E.Z,{id:"challenge-monster-select-label",children:nt}),(0,r.jsx)(M.Z,{labelId:"challenge-monster-select-label",value:h,label:nt,onChange:function(t){return f(t.target.value)},children:$.map((function(t){return(0,r.jsx)(T.Z,{value:t.id,children:t.name},t.id)}))}),(0,r.jsx)(S.Z,{disabled:!h||c>0||P,onClick:function(){return N.apply(this,arguments)},variant:"contained",children:"Challenge!"})]})}),(0,r.jsx)(C.ZP,{item:!0,md:3,xs:6,children:(0,r.jsxs)(I.Z,{fullWidth:!0,children:[(0,r.jsx)(E.Z,{id:"fight-monster-select-label",children:et}),(0,r.jsx)(M.Z,{labelId:"fight-monster-select-label",value:v,label:et,onChange:function(t){return p(t.target.value)},children:(null===g||void 0===g?void 0:g.monsters)&&J(null===g||void 0===g?void 0:g.monsters).sort((function(t,n){return t.monster.level-n.monster.level})).map((function(t){return(0,r.jsx)(T.Z,{value:t.id,children:t.monster.name},t.id)}))}),j&&(0,r.jsx)(K.Z,{}),(0,r.jsx)(S.Z,{disabled:!v||c>0||P,onClick:function(){return B.apply(this,arguments)},variant:"contained",children:"Fight!"})]})})]}),H&&H.combat.health<=0&&(0,r.jsx)(C.ZP,{item:!0,lg:3,xs:6,children:(0,r.jsx)(u.Z,{children:"You are dead."})}),(0,r.jsx)(C.ZP,{item:!0,lg:3,xs:6,children:(0,r.jsx)(S.Z,{fullWidth:!0,onClick:function(){return R.apply(this,arguments)},variant:"contained",disabled:c>0||P,children:"Heal"})})]})})}var it=e(9692),ot=[16,16],at=[128,96],lt=16;function ct(){var t=O();if(!t)return null;var n=t.location,e=[Math.round(Math.min(at[0]-ot[0]/2,Math.max(0,n.x-ot[0]/2))),Math.round(Math.min(at[1]-ot[1]/2,Math.max(0,n.y-ot[1]/2)))];return console.log({location:n,centerPoint:e}),(0,r.jsx)("div",{style:{position:"relative",display:"inline-block",backgroundImage:"url(/maps/default.jpg)",backgroundPosition:"-".concat(e[0]*lt,"px -").concat(e[1]*lt,"px"),width:"".concat(ot[0]*lt,"px"),height:"".concat(ot[1]*lt,"px")},children:(0,r.jsx)("div",{style:{position:"absolute",borderRadius:"".concat(2.5,"px"),opacity:.8,backgroundColor:"blue",border:"1px solid black",left:"".concat((n.x-e[0])*lt+5.5,"px"),top:"".concat((n.y-e[1])*lt+5.5,"px"),width:"".concat(5,"px"),height:"".concat(5,"px")}})})}function st(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function ut(t,n,e,r,i,o,a){try{var l=t[o](a),c=l.value}catch(s){return void e(s)}l.done?n(c):Promise.resolve(c).then(r,i)}function dt(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function a(t){ut(o,r,i,a,l,"next",t)}function l(t){ut(o,r,i,a,l,"throw",t)}a(void 0)}))}}function ht(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o=[],a=!0,l=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==e.return||e.return()}finally{if(l)throw i}}return o}}(t,n)||function(t,n){if(!t)return;if("string"===typeof t)return st(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return st(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(){var t=O(),n=ht((0,F.g)(),2),e=n[0],o=n[1],a=ht((0,b.gK)(),2),l=a[0],c=a[1].loading;if(!t)return null;function s(t){return d.apply(this,arguments)}function d(){return(d=dt(x().mark((function t(n){var e,r;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l({variables:{direction:n}});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),t.t0.graphQLErrors&&(null===(e=t.t0.graphQLErrors[0])||void 0===e||null===(r=e.extensions)||void 0===r?void 0:r.delay)&&o(t.t0.graphQLErrors[0].extensions.remaining);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}return(0,r.jsx)(i.Fragment,{children:(0,r.jsxs)(C.ZP,{container:!0,columns:2,spacing:3,children:[(0,r.jsx)(C.ZP,{item:!0,xs:2,sm:1,children:(0,r.jsxs)(C.ZP,{container:!0,columns:6,spacing:3,children:[(0,r.jsx)(C.ZP,{item:!0,style:{textAlign:"center"},xs:6,children:(0,r.jsx)(u.Z,{children:"Use buttons to move around the map."})}),(0,r.jsx)(C.ZP,{item:!0,style:{textAlign:"center"},xs:2}),(0,r.jsx)(C.ZP,{item:!0,style:{textAlign:"center"},xs:2,children:(0,r.jsx)(S.Z,{disabled:c||e>0,variant:"contained",onClick:function(){return s(b.p$.North)},children:"North"})}),(0,r.jsx)(C.ZP,{item:!0,style:{textAlign:"center"},xs:2}),(0,r.jsx)(C.ZP,{item:!0,style:{textAlign:"center"},xs:2,children:(0,r.jsx)(S.Z,{disabled:c||e>0,variant:"contained",onClick:function(){return s(b.p$.West)},children:"West"})}),(0,r.jsx)(C.ZP,{item:!0,style:{textAlign:"center"},xs:2,children:(0,r.jsxs)(u.Z,{children:[t.location.x,", ",t.location.y]})}),(0,r.jsx)(C.ZP,{item:!0,style:{textAlign:"center"},xs:2,children:(0,r.jsx)(S.Z,{disabled:c||e>0,variant:"contained",onClick:function(){return s(b.p$.East)},children:"East"})}),(0,r.jsx)(C.ZP,{item:!0,style:{textAlign:"center"},xs:2}),(0,r.jsx)(C.ZP,{item:!0,style:{textAlign:"center"},xs:2,children:(0,r.jsx)(S.Z,{disabled:c||e>0,variant:"contained",onClick:function(){return s(b.p$.South)},children:"South"})}),(0,r.jsx)(C.ZP,{item:!0,style:{textAlign:"center"},xs:2})]})}),(0,r.jsx)(C.ZP,{item:!0,style:{textAlign:"center"},xs:2,sm:1,children:(0,r.jsx)(ct,{})})]})})}function mt(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function vt(t,n,e,r,i,o,a){try{var l=t[o](a),c=l.value}catch(s){return void e(s)}l.done?n(c):Promise.resolve(c).then(r,i)}function xt(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function a(t){vt(o,r,i,a,l,"next",t)}function l(t){vt(o,r,i,a,l,"throw",t)}a(void 0)}))}}function pt(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o=[],a=!0,l=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==e.return||e.return()}finally{if(l)throw i}}return o}}(t,n)||function(t,n){if(!t)return;if("string"===typeof t)return mt(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return mt(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(){var t=pt((0,F.g)(),1)[0],n=pt((0,b.Y4)(),2),e=n[0],o=n[1].loading;function c(){return(c=xt(x().mark((function t(n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Leveling up...",n),t.next=3,e({variables:{attribute:n}});case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(a.Z,{sx:{backgroundColor:"secondary.light"},children:[(0,r.jsx)("br",{}),(0,r.jsx)(u.Z,{variant:"h5",align:"center",children:"You have leveled up!"}),(0,r.jsx)(u.Z,{align:"center",children:"Choose an attribute to increase by 1."}),(0,r.jsx)("br",{}),(0,r.jsx)(C.ZP,{container:!0,columns:7,spacing:2,children:Object.keys(b.GC).sort().map((function(n){return(0,r.jsx)(C.ZP,{item:!0,xs:7,sm:3,md:2,lg:1,children:(0,r.jsx)(u.Z,{align:"center",children:(0,r.jsx)(S.Z,{disabled:o||t>0,onClick:function(){return function(t){return c.apply(this,arguments)}(b.GC[n])},variant:"contained",children:n})})},n)}))}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]}),(0,r.jsx)(l.Z,{})]})}function gt(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function bt(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o=[],a=!0,l=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==e.return||e.return()}finally{if(l)throw i}}return o}}(t,n)||function(t,n){if(!t)return;if("string"===typeof t)return gt(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return gt(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(){var t,n,e,v=(0,o.useRouter)(),x=bt((0,it.d)(),2),p=x[0],y=(x[1],(0,b.UE)()),g=y.data,j=y.loading,Z=y.error,w=(0,i.useState)("1"),k=w[0],A=w[1],S=null!==(e=null===g||void 0===g||null===(t=g.me)||void 0===t||null===(n=t.account)||void 0===n?void 0:n.hero)&&void 0!==e?e:null;return Z||!p?(v.push("/?auth=".concat(v.asPath)),(0,r.jsxs)(m.A,{children:[(0,r.jsx)("br",{}),"Redirecting..."]})):j?(0,r.jsx)(m.A,{children:j&&(0,r.jsx)(c.Z,{})}):(0,r.jsxs)(m.A,{showHero:!0,children:[(0,r.jsx)(i.Fragment,{children:S&&S.attributePoints>0&&(0,r.jsx)(yt,{})}),(0,r.jsxs)(a.Z,{sx:{width:"100%",typography:"body1"},children:[(0,r.jsxs)(d.ZP,{value:k,children:[(0,r.jsx)(a.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,r.jsxs)(h.Z,{onChange:function(t,n){A(n)},"aria-label":"navigation tabs",children:[(0,r.jsx)(s.Z,{label:"Welcome / News",value:"1"}),(0,r.jsx)(s.Z,{label:"Combat",value:"2"}),(0,r.jsx)(s.Z,{label:"Map",value:"3"})]})}),(0,r.jsxs)(f.Z,{value:"1",children:[(0,r.jsx)(u.Z,{children:"Welcome to the game! I'm updating things extremely regularly, so check back often and refresh often. Use the tabs above to navigate around."}),(0,r.jsx)("br",{}),(0,r.jsx)(u.Z,{children:"There are now 6 different types of combat available, each uses a different primary attribute to determine hit chance and damage. Additionally, each type of attack has its own unique benefits!"}),(0,r.jsx)("br",{}),(0,r.jsx)(u.Z,{children:"The map is fully functional! Be sure to travel around before travel gets harder..."})]}),(0,r.jsxs)(f.Z,{value:"2",children:[(0,r.jsx)(u.Z,{children:"Challenge a monster from the list, then fight it to the death. Note that other players in the same location see the same monster lists, so they may get to it first!"}),(0,r.jsx)("br",{}),(0,r.jsx)(rt,{})]}),(0,r.jsx)(f.Z,{value:"3",children:(0,r.jsx)(ft,{})})]}),(0,r.jsx)("br",{}),(0,r.jsx)(l.Z,{}),(0,r.jsx)("br",{}),(0,r.jsx)(P,{})]})]})}}}]);